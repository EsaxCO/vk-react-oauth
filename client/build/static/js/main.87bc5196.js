!function(e){function t(t){for(var r,o,c=t[0],i=t[1],u=t[2],j=0,m=[];j<c.length;j++)o=c[j],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(l&&l(t);m.length;)m.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={0:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;s.push([293,1]),n()}({293:function(e,t,n){n(294),e.exports=n(511)},484:function(e,t,n){},504:function(e,t,n){var r={"./af":152,"./af.js":152,"./ar":153,"./ar-dz":154,"./ar-dz.js":154,"./ar-kw":155,"./ar-kw.js":155,"./ar-ly":156,"./ar-ly.js":156,"./ar-ma":157,"./ar-ma.js":157,"./ar-sa":158,"./ar-sa.js":158,"./ar-tn":159,"./ar-tn.js":159,"./ar.js":153,"./az":160,"./az.js":160,"./be":161,"./be.js":161,"./bg":162,"./bg.js":162,"./bm":163,"./bm.js":163,"./bn":164,"./bn.js":164,"./bo":165,"./bo.js":165,"./br":166,"./br.js":166,"./bs":167,"./bs.js":167,"./ca":168,"./ca.js":168,"./cs":169,"./cs.js":169,"./cv":170,"./cv.js":170,"./cy":171,"./cy.js":171,"./da":172,"./da.js":172,"./de":173,"./de-at":174,"./de-at.js":174,"./de-ch":175,"./de-ch.js":175,"./de.js":173,"./dv":176,"./dv.js":176,"./el":177,"./el.js":177,"./en-au":178,"./en-au.js":178,"./en-ca":179,"./en-ca.js":179,"./en-gb":180,"./en-gb.js":180,"./en-ie":181,"./en-ie.js":181,"./en-il":182,"./en-il.js":182,"./en-in":183,"./en-in.js":183,"./en-nz":184,"./en-nz.js":184,"./en-sg":185,"./en-sg.js":185,"./eo":186,"./eo.js":186,"./es":187,"./es-do":188,"./es-do.js":188,"./es-us":189,"./es-us.js":189,"./es.js":187,"./et":190,"./et.js":190,"./eu":191,"./eu.js":191,"./fa":192,"./fa.js":192,"./fi":193,"./fi.js":193,"./fil":194,"./fil.js":194,"./fo":195,"./fo.js":195,"./fr":196,"./fr-ca":197,"./fr-ca.js":197,"./fr-ch":198,"./fr-ch.js":198,"./fr.js":196,"./fy":199,"./fy.js":199,"./ga":200,"./ga.js":200,"./gd":201,"./gd.js":201,"./gl":202,"./gl.js":202,"./gom-deva":203,"./gom-deva.js":203,"./gom-latn":204,"./gom-latn.js":204,"./gu":205,"./gu.js":205,"./he":206,"./he.js":206,"./hi":207,"./hi.js":207,"./hr":208,"./hr.js":208,"./hu":209,"./hu.js":209,"./hy-am":210,"./hy-am.js":210,"./id":211,"./id.js":211,"./is":212,"./is.js":212,"./it":213,"./it-ch":214,"./it-ch.js":214,"./it.js":213,"./ja":215,"./ja.js":215,"./jv":216,"./jv.js":216,"./ka":217,"./ka.js":217,"./kk":218,"./kk.js":218,"./km":219,"./km.js":219,"./kn":220,"./kn.js":220,"./ko":221,"./ko.js":221,"./ku":222,"./ku.js":222,"./ky":223,"./ky.js":223,"./lb":224,"./lb.js":224,"./lo":225,"./lo.js":225,"./lt":226,"./lt.js":226,"./lv":227,"./lv.js":227,"./me":228,"./me.js":228,"./mi":229,"./mi.js":229,"./mk":230,"./mk.js":230,"./ml":231,"./ml.js":231,"./mn":232,"./mn.js":232,"./mr":233,"./mr.js":233,"./ms":234,"./ms-my":235,"./ms-my.js":235,"./ms.js":234,"./mt":236,"./mt.js":236,"./my":237,"./my.js":237,"./nb":238,"./nb.js":238,"./ne":239,"./ne.js":239,"./nl":240,"./nl-be":241,"./nl-be.js":241,"./nl.js":240,"./nn":242,"./nn.js":242,"./oc-lnc":243,"./oc-lnc.js":243,"./pa-in":244,"./pa-in.js":244,"./pl":245,"./pl.js":245,"./pt":246,"./pt-br":247,"./pt-br.js":247,"./pt.js":246,"./ro":248,"./ro.js":248,"./ru":249,"./ru.js":249,"./sd":250,"./sd.js":250,"./se":251,"./se.js":251,"./si":252,"./si.js":252,"./sk":253,"./sk.js":253,"./sl":254,"./sl.js":254,"./sq":255,"./sq.js":255,"./sr":256,"./sr-cyrl":257,"./sr-cyrl.js":257,"./sr.js":256,"./ss":258,"./ss.js":258,"./sv":259,"./sv.js":259,"./sw":260,"./sw.js":260,"./ta":261,"./ta.js":261,"./te":262,"./te.js":262,"./tet":263,"./tet.js":263,"./tg":264,"./tg.js":264,"./th":265,"./th.js":265,"./tk":266,"./tk.js":266,"./tl-ph":267,"./tl-ph.js":267,"./tlh":268,"./tlh.js":268,"./tr":269,"./tr.js":269,"./tzl":270,"./tzl.js":270,"./tzm":271,"./tzm-latn":272,"./tzm-latn.js":272,"./tzm.js":271,"./ug-cn":273,"./ug-cn.js":273,"./uk":274,"./uk.js":274,"./ur":275,"./ur.js":275,"./uz":276,"./uz-latn":277,"./uz-latn.js":277,"./uz.js":276,"./vi":278,"./vi.js":278,"./x-pseudo":279,"./x-pseudo.js":279,"./yo":280,"./yo.js":280,"./zh-cn":281,"./zh-cn.js":281,"./zh-hk":282,"./zh-hk.js":282,"./zh-mo":283,"./zh-mo.js":283,"./zh-tw":284,"./zh-tw.js":284};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=504},505:function(e,t,n){},510:function(e,t,n){},511:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(286),o=n(56),c=n(9),i=n(48),u="http://localhost:5000",l="https://oauth.vk.com/authorize?client_id=7534196&display=page&redirect_uri=".concat("http://localhost:5000","/callback&scope=groups&response_type=code&v=5.120"),j=n.p+"static/media/icon_vk.svg",m=(n(484),function(){return a.a.createElement("main",{className:"login"},a.a.createElement("a",{href:l},a.a.createElement("span",null,"Login"),a.a.createElement("img",{src:j,alt:"VK icon"})))}),f=n(287),p=n.n(f),d=n(57),h=n.n(d);function v(e,t,n,r,a,s,o){try{var c=e[s](o),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){v(s,r,a,o,c,"next",e)}function c(e){v(s,r,a,o,c,"throw",e)}o(void 0)}))}}var b=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={headers:{responseType:"application/json"}},this.login=function(){var e=g(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(u,"/api/auth/login"),{code:n},t.options);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{error:"You are not authorized"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),this.logout=g(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(u,"/api/auth/logout"),t.options);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{error:"You are not authorized"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))};function y(e,t,n,r,a,s,o){try{var c=e[s](o),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){y(s,r,a,o,c,"next",e)}function c(e){y(s,r,a,o,c,"throw",e)}o(void 0)}))}}var E=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={headers:{responseType:"application/json"}},this.getGroupsData=k(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(u,"/api/user/groups"),t.options);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getUserData=k(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(u,"/api/user/"),t.options);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},w=n(512),z={firstName:void 0,lastName:void 0,bDate:void 0,id:void 0},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=Object(w.a)((function(){return{currentUser:e,setData:function(e){t.currentUser=e},removeData:function(){t.currentUser=z},get info(){return t.currentUser}}}));return t},O=n(1),x=n.n(O),D=n(289),_=n(290),M=function(e){var t=e.post,n=t.text,r=t.attachments,s=t.likes,o=t.views,c=t.date,i=n.replace(/\[|]|(club([0-9]+)[|])/g,"");return a.a.createElement("article",{className:"post"},a.a.createElement("div",{className:"image"},function(){if("photo"===r[0].type&&r[0].photo){var e=r[0].photo.sizes;return a.a.createElement("img",{src:e[e.length-1].url,alt:""})}if("video"===r[0].type&&r[0].video){e=r[0].video.image;return a.a.createElement("img",{src:e[e.length-1].url,alt:""})}}()),a.a.createElement("div",{className:"text"},a.a.createElement("span",null,i)),a.a.createElement("div",{className:"stats"},a.a.createElement("div",{className:"counter"},a.a.createElement("span",{className:"likes"},a.a.createElement(D.a,{color:"red"}),s.count),a.a.createElement("span",{className:"views"},a.a.createElement(_.a,null),o.count)),a.a.createElement("span",{className:"date"},x()(c).locale("ru").format("D MMMM LT"))))},P=function(e){var t=e.id,n=Object(r.useState)(null),s=n[0],o=n[1];return Object(r.useEffect)((function(){t&&E.getGroupsData().then((function(e){200===e.status&&o(e.data)}))}),[t]),a.a.createElement("div",null,s?s.length?s.map((function(e){return a.a.createElement(M,{post:e})})):"Постов нет":"Loading...")},U=(n(505),Object(i.a)((function(e){var t=e.currentUser,n=e.history,r=N();return a.a.createElement("div",{className:"user"},a.a.createElement(o.b,{className:"homepageLink",to:"/"},"Homepage"),a.a.createElement("div",{className:"username"},t.firstName+" "+t.lastName),a.a.createElement("div",{className:"id"},"@"+t.id),a.a.createElement("div",{className:"date"},"Дата рождения: ",x()(t.bDate).format("DD.MM.YYYY")),a.a.createElement("button",{className:"logoutBtn",onClick:function(e){e.preventDefault(),b.logout().then((function(e){200===e.status&&(r.removeData(),n.push("/login"))}))}},"Logout"))}))),R=Object(c.f)(U),T=Object(i.a)((function(e){var t=e.location,n=e.history,s=N();return Object(r.useEffect)((function(){var e,r=null===(e=p.a.parse(t.search))||void 0===e?void 0:e.code;r?b.login(r).then((function(e){if(e.error)n.push("/login");else if(200===e.status){var t=e.data,r=t.bdate,a=t.last_name,o=t.first_name,c=t.id;s.setData({bDate:r,lastName:a,firstName:o,id:c})}})):E.getUserData().then((function(e){if(200===e.status){var t=e.data,r=t.bdate,a=t.last_name,o=t.first_name,c=t.id;s.setData({bDate:r,lastName:a,firstName:o,id:c})}else n.push("/login")}))}),[t]),a.a.createElement(a.a.Fragment,null,a.a.createElement(R,{currentUser:s.info}),a.a.createElement(P,{id:s.info.id}))})),L=Object(c.f)(T),S=Object(i.a)((function(){return a.a.createElement("div",{className:"container"},a.a.createElement(c.c,null,a.a.createElement(c.a,{exact:!0,path:"/login",render:function(){return a.a.createElement(m,null)}}),a.a.createElement(c.a,{path:"/",render:function(){return a.a.createElement(L,null)}})))}));n(510);Object(s.render)(a.a.createElement(o.a,null,a.a.createElement(S,null)),document.getElementById("app"))}});